<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>iash: CommandDispatcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iash
   &#160;<span id="projectnumber">v0.5</span>
   </div>
   <div id="projectbrief">Library to provide a bash-like shell in an application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCommandDispatcher.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCommandDispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CommandDispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to register and execute Commands in an iash shell.  
 <a href="classCommandDispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CommandDispatcher_8h_source.html">CommandDispatcher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#ab1d43e7258910a48adc2e4d9af5ce74a">CommandDispatcher</a> (<a class="el" href="classiash.html">iash</a> *parent)</td></tr>
<tr class="memdesc:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> with the given shell parent.  <a href="#ab1d43e7258910a48adc2e4d9af5ce74a">More...</a><br /></td></tr>
<tr class="separator:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf16ce3881024826c8cfce6cd625c87a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#acf16ce3881024826c8cfce6cd625c87a">registerCommand</a> (<a class="el" href="classCommand.html">Command</a> *cmd)</td></tr>
<tr class="memdesc:acf16ce3881024826c8cfce6cd625c87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a given <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> with this <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance.  <a href="#acf16ce3881024826c8cfce6cd625c87a">More...</a><br /></td></tr>
<tr class="separator:acf16ce3881024826c8cfce6cd625c87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e3652417a896107a5d3a1d4e54f71b"><td class="memTemplParams" colspan="2">template&lt;typename ExtCommand , typename... Args&gt; </td></tr>
<tr class="memitem:a70e3652417a896107a5d3a1d4e54f71b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#a70e3652417a896107a5d3a1d4e54f71b">registerCommand</a> (Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:a70e3652417a896107a5d3a1d4e54f71b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the given <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> type with this <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance.  <a href="#a70e3652417a896107a5d3a1d4e54f71b">More...</a><br /></td></tr>
<tr class="separator:a70e3652417a896107a5d3a1d4e54f71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888212818139aa39a89fb5d212873e77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCommand.html">Command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#a888212818139aa39a89fb5d212873e77">unregisterCommand</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:a888212818139aa39a89fb5d212873e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the command with the given name from the registry, and removes any of its registered aliases.  <a href="#a888212818139aa39a89fb5d212873e77">More...</a><br /></td></tr>
<tr class="separator:a888212818139aa39a89fb5d212873e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea20e1d022f736d2ae42c132e9e2b47"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCommand.html">Command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#a8ea20e1d022f736d2ae42c132e9e2b47">unregisterCommand</a> (const <a class="el" href="classCommand.html">Command</a> *cmd)</td></tr>
<tr class="memdesc:a8ea20e1d022f736d2ae42c132e9e2b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the command at the given memory address.  <a href="#a8ea20e1d022f736d2ae42c132e9e2b47">More...</a><br /></td></tr>
<tr class="separator:a8ea20e1d022f736d2ae42c132e9e2b47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a28c8347747039cee679510454c874f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCommandDispatcher.html#a6a28c8347747039cee679510454c874f">dispatch</a> (const <a class="el" href="classUserCommand.html">UserCommand</a> *userCmd)</td></tr>
<tr class="memdesc:a6a28c8347747039cee679510454c874f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the command and alias registries and calls the appropriate <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a>.  <a href="#a6a28c8347747039cee679510454c874f">More...</a><br /></td></tr>
<tr class="separator:a6a28c8347747039cee679510454c874f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to register and execute Commands in an iash shell. </p>
<p>iash has an internal instance of this class, there is typically no need to instantiate it manually. </p>
<p>iash does not provide direct access to this API through its own API, but commands can be registered through <a class="el" href="classiash.html#a6efda722555761d647166166f7f7cddd" title="Adds a Command instance to this shell&#39;s CommandDispatcher registry. ">iash::addCommand</a>.</p>
<dl class="section since"><dt>Since</dt><dd>0.5 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab1d43e7258910a48adc2e4d9af5ce74a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d43e7258910a48adc2e4d9af5ce74a">&#9670;&nbsp;</a></span>CommandDispatcher()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandDispatcher::CommandDispatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiash.html">iash</a> *&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> with the given shell parent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>the shell this <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> belongs to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6a28c8347747039cee679510454c874f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a28c8347747039cee679510454c874f">&#9670;&nbsp;</a></span>dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CommandDispatcher::dispatch </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classUserCommand.html">UserCommand</a> *&#160;</td>
          <td class="paramname"><em>userCmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the command and alias registries and calls the appropriate <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userCmd</td><td>the user's input command </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return value of the <a class="el" href="classCommand.html#a9a60f79f5b058c644a53d9fbc917a761" title="Called when a command matching the current Command is issued. ">Command::run</a> for the given command, or 127 if no command was found </dd></dl>

</div>
</div>
<a id="acf16ce3881024826c8cfce6cd625c87a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf16ce3881024826c8cfce6cd625c87a">&#9670;&nbsp;</a></span>registerCommand() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CommandDispatcher::registerCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a given <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> with this <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance. </p>
<p>This will call <a class="el" href="classCommand.html#ab9606d1fae2f68658344f404b658301e" title="Sets the shell parent for this Command. ">Command::init</a> to set the parent shell and add the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a>'s name and aliases to the command registry. </p>
<p>This function requires a dynamically allocated <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a>, passed like so: </p><div class="fragment"><div class="line"><a class="code" href="classCommandDispatcher.html">CommandDispatcher</a> disp (&amp;shell);</div><div class="line">disp.registerCommand(<span class="keyword">new</span> MyCommand);</div></div><!-- fragment --><p> The <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> will automatically free the allocated memory, so there is no need to somehow catch the pointer to the allocated memory. </p>
<p>If a <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> instance with the same name and type is already registered with this class, this function will not add the new instance. If the classes must be replaced, the old one should be unregistered first. </p>
<p>This is not the recommended method to use when registering commands. <a class="el" href="classCommandDispatcher.html#acf16ce3881024826c8cfce6cd625c87a" title="Registers a given Command with this CommandDispatcher instance. ">CommandDispatcher::registerCommand()</a> should be used instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>a dynamically allocated <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> object to register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a70e3652417a896107a5d3a1d4e54f71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70e3652417a896107a5d3a1d4e54f71b">&#9670;&nbsp;</a></span>registerCommand() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ExtCommand , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CommandDispatcher::registerCommand </td>
          <td>(</td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers the given <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> type with this <a class="el" href="classCommandDispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance. </p>
<p>This function will allocate the memory for the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> internally; all the client must do is provide the type: </p><div class="fragment"><div class="line"><a class="code" href="classCommandDispatcher.html">CommandDispatcher</a> disp (&amp;shell);</div><div class="line">disp.registerCommand&lt;MyCommand&gt;();</div></div><!-- fragment --><p> If a <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> instance of the same type is already registered with this class, this function will not add the new instance. If the classes must be replaced, the old one should be unregistered first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">args</td><td>the arguments to pass to the constructor </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ExtCommand</td><td>the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> type to register </td></tr>
    <tr><td class="paramname">Args</td><td>the types of the arguments to pass to the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> constructor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a888212818139aa39a89fb5d212873e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888212818139aa39a89fb5d212873e77">&#9670;&nbsp;</a></span>unregisterCommand() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCommand.html">Command</a>* CommandDispatcher::unregisterCommand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the command with the given name from the registry, and removes any of its registered aliases. </p>
<p>Note that, since Commands are typically created with dynamic memory, you <b>must</b> catch the pointer returned by this function and <code>delete</code> it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> to unregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the unregistered <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> object </dd></dl>

</div>
</div>
<a id="a8ea20e1d022f736d2ae42c132e9e2b47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea20e1d022f736d2ae42c132e9e2b47">&#9670;&nbsp;</a></span>unregisterCommand() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCommand.html">Command</a> * CommandDispatcher::unregisterCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCommand.html">Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the command at the given memory address. </p>
<p>Note that, since Commands are dynamically allocated, the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> should be deleted after this call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>a pointer to the <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> to unregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the unregistered <a class="el" href="classCommand.html" title="Abstract interface for a command registered with the shell. ">Command</a> object </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="CommandDispatcher_8h_source.html">CommandDispatcher.h</a></li>
<li>CommandDispatcher.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCommandDispatcher.html">CommandDispatcher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>

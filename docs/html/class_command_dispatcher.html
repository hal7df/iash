<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>iash: CommandDispatcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iash
   &#160;<span id="projectnumber">v0.5</span>
   </div>
   <div id="projectbrief">Library to provide a bash-like shell in an application</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_command_dispatcher.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_command_dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CommandDispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to register and execute Commands in an iash shell.  
 <a href="class_command_dispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_command_dispatcher_8h_source.html">CommandDispatcher.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_dispatcher.html#ab1d43e7258910a48adc2e4d9af5ce74a">CommandDispatcher</a> (<a class="el" href="classiash.html">iash</a> *parent)</td></tr>
<tr class="memdesc:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> with the given shell parent.  <a href="#ab1d43e7258910a48adc2e4d9af5ce74a">More...</a><br /></td></tr>
<tr class="separator:ab1d43e7258910a48adc2e4d9af5ce74a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf16ce3881024826c8cfce6cd625c87a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_dispatcher.html#acf16ce3881024826c8cfce6cd625c87a">registerCommand</a> (<a class="el" href="class_command.html">Command</a> *cmd)</td></tr>
<tr class="memdesc:acf16ce3881024826c8cfce6cd625c87a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a given <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> with this <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance.  <a href="#acf16ce3881024826c8cfce6cd625c87a">More...</a><br /></td></tr>
<tr class="separator:acf16ce3881024826c8cfce6cd625c87a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ea5aa3f5ff2a46af38dd3274ba0363"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_command.html">Command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_dispatcher.html#a29ea5aa3f5ff2a46af38dd3274ba0363">unregisterCommand</a> (std::string name)</td></tr>
<tr class="memdesc:a29ea5aa3f5ff2a46af38dd3274ba0363"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the command with the given name from the registry, and removes any of its registered aliases.  <a href="#a29ea5aa3f5ff2a46af38dd3274ba0363">More...</a><br /></td></tr>
<tr class="separator:a29ea5aa3f5ff2a46af38dd3274ba0363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bad50e793b6f009240c87f56099d54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_command.html">Command</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_dispatcher.html#a48bad50e793b6f009240c87f56099d54">unregisterCommand</a> (<a class="el" href="class_command.html">Command</a> *cmd)</td></tr>
<tr class="memdesc:a48bad50e793b6f009240c87f56099d54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the command at the given memory address.  <a href="#a48bad50e793b6f009240c87f56099d54">More...</a><br /></td></tr>
<tr class="separator:a48bad50e793b6f009240c87f56099d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fcf8d973bdcb9b9541285a069f1a02e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_command_dispatcher.html#a6fcf8d973bdcb9b9541285a069f1a02e">dispatch</a> (<a class="el" href="class_user_command.html">UserCommand</a> *userCmd)</td></tr>
<tr class="memdesc:a6fcf8d973bdcb9b9541285a069f1a02e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches the command and alias registries and calls the appropriate <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a>.  <a href="#a6fcf8d973bdcb9b9541285a069f1a02e">More...</a><br /></td></tr>
<tr class="separator:a6fcf8d973bdcb9b9541285a069f1a02e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to register and execute Commands in an iash shell. </p>
<p>iash has an internal instance of this class, there is typically no need to instantiate it manually. </p>
<p>iash does not provide direct access to this API through its own API, but commands can be registered through <a class="el" href="classiash.html#a6efda722555761d647166166f7f7cddd" title="Adds a Command instance to this shell&#39;s CommandDispatcher registry. ">iash::addCommand</a>.</p>
<dl class="section since"><dt>Since</dt><dd>0.5 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab1d43e7258910a48adc2e4d9af5ce74a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CommandDispatcher::CommandDispatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classiash.html">iash</a> *&#160;</td>
          <td class="paramname"><em>parent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> with the given shell parent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">parent</td><td>the shell this <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> belongs to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6fcf8d973bdcb9b9541285a069f1a02e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CommandDispatcher::dispatch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_user_command.html">UserCommand</a> *&#160;</td>
          <td class="paramname"><em>userCmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches the command and alias registries and calls the appropriate <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userCmd</td><td>the user's input command </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return value of the <a class="el" href="class_command.html#a05729cc558e0f89c39c27dc1379c97f8" title="Called when a command matching the current Command is issued. ">Command::run</a> for the given command, or 127 if no command was found </dd></dl>

</div>
</div>
<a class="anchor" id="acf16ce3881024826c8cfce6cd625c87a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CommandDispatcher::registerCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_command.html">Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a given <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> with this <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> instance. </p>
<p>This will call <a class="el" href="class_command.html#ab9606d1fae2f68658344f404b658301e" title="Sets the shell parent for this Command. ">Command::init</a> to set the parent shell and add the Comamnd's name and aliases to the command registry. </p>
<p>This function is intended to be used directly with dynamic memory, like so: </p><div class="fragment"><div class="line"><a class="code" href="class_command_dispatcher.html">CommandDispatcher</a> disp (&amp;shell);</div><div class="line">disp.registerCommand(<span class="keyword">new</span> MyCommand);</div></div><!-- fragment --><p> The <a class="el" href="class_command_dispatcher.html" title="Class to register and execute Commands in an iash shell. ">CommandDispatcher</a> will automatically free the allocated memory, so there is no need to somehow catch the pointer to the allocated memory. </p>
<p>If a <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> instance with the same name and type is already registered with this class, this function will not add the new instance. If the classes must be replaced, the old one should be unregistered first.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>a dynamically allocated <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> object to register </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a29ea5aa3f5ff2a46af38dd3274ba0363"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_command.html">Command</a>* CommandDispatcher::unregisterCommand </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the command with the given name from the registry, and removes any of its registered aliases. </p>
<p>Note that, since Commands are typically created with dynamic memory, you <b>must</b> catch the pointer returned by this function and <code>delete</code> it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>the name of the <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> to unregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the unregistered <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> object </dd></dl>

</div>
</div>
<a class="anchor" id="a48bad50e793b6f009240c87f56099d54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_command.html">Command</a> * CommandDispatcher::unregisterCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_command.html">Command</a> *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the command at the given memory address. </p>
<p>Note that, since Commands are dynamically allocated, the <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> should be deleted after this call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>a pointer to the <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> to unregister </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the unregistered <a class="el" href="class_command.html" title="Abstract interface for a command registered with the shell. ">Command</a> object </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_command_dispatcher_8h_source.html">CommandDispatcher.h</a></li>
<li>src/CommandDispatcher.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_command_dispatcher.html">CommandDispatcher</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
